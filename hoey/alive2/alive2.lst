     1                                  ; alive2.asm
     2                                  
     3                                  section .data
     4 00000000 48656C6C6F2C20576F-         msg1    db      "Hello, World!", 10, 0      ; string with NL and 0
     4 00000009 726C64210A00       
     5 0000000F 416C69766520616E64-         msg2    db      "Alive and Kicking!", 10, 0 ; string with NL and 0
     5 00000018 204B69636B696E6721-
     5 00000021 0A00               
     6 00000023 6501000000000000            radius  dq      357                         ; no string, not displayable?
     7 0000002B 1F85EB51B81E0940            pi      dq      3.14                        ; no string, not displayable?
     8 00000033 25730A00                    fmtstr  db      "%s", 10, 0                 ; format for printing a string
     9 00000037 256C660A00                  fmtflt  db      "%lf", 10, 0                ; format for a float
    10 0000003C 25640A00                    fmtint  db      "%d", 10, 0                 ; format for an integer
    11                                  
    12                                  section .bss
    13                                  
    14                                  section .text
    15                                  extern printf
    16                                      global main
    17                                  
    18                                  main:
    19 00000000 55                          push    rbp             ; function prologue
    20 00000001 4889E5                      mov     rbp, rsp        ; function prologue
    21                                  
    22                                      ; print msg1
    23 00000004 B800000000                  mov     rax, 0          ; no floating point
    24 00000009 48BF-                       mov     rdi, fmtstr
    24 0000000B [3300000000000000] 
    25 00000013 48BE-                       mov     rsi, msg1
    25 00000015 [0000000000000000] 
    26 0000001D E8(00000000)                call    printf
    27                                  
    28                                      ; print msg2
    29 00000022 B800000000                  mov     rax, 0          ; no floating point
    30 00000027 48BF-                       mov     rdi, fmtstr
    30 00000029 [3300000000000000] 
    31 00000031 48BE-                       mov     rsi, msg2
    31 00000033 [0F00000000000000] 
    32 0000003B E8(00000000)                call    printf
    33                                  
    34                                      ; print radius
    35 00000040 B800000000                  mov     rax, 0          ; no floating point
    36 00000045 48BF-                       mov     rdi, fmtint
    36 00000047 [3C00000000000000] 
    37 0000004F 488B3425[23000000]          mov     rsi, [radius]
    38 00000057 E8(00000000)                call    printf
    39                                  
    40                                      ; print pi
    41 0000005C B801000000                  mov     rax, 1          ; 1 xmm register used
    42 00000061 F30F7E0425-                 movq    xmm0, [pi]
    42 00000066 [2B000000]         
    43 0000006A 48BF-                       mov     rdi, fmtflt
    43 0000006C [3700000000000000] 
    44 00000074 E8(00000000)                call    printf
    45                                  
    46 00000079 4889EC                      mov     rsp, rbp
    47 0000007C 5D                          pop     rbp
    48                                  
    49 0000007D C3                          ret
